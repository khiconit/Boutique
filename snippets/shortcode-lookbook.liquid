  {% assign total_image= 100 %} 
  {% assign number  = 12  %}

  {% assign count_image = 0 %}
  {% for i_total in (1..total_image)  %}
      {% assign product_item = 'img_lookbook' | append : i_total %}
      {% capture this_product_item %}{%include 'shortcode-render' render: product_item %}{% endcapture %}
      {% if this_product_item != "" %}      
        {% assign count_image = count_image | plus: 1   %}  
      {% else %}          
          {% break %}
      {% endif %}
  {% endfor %}
  {% assign page  = 0  %}
    {% assign tg  = 0  %}
      <div class="container">
        <div id="top"> </div>
          <ul class="kt-popup-gallery lookbook-list row">
            {% for i in (1..count_image) %}
            {% assign product_item = 'img_lookbook' | append : i %}
            {% capture this_product_item %}{%include 'shortcode-render' render: product_item %}{% endcapture %}
                {% assign tg  = tg | plus: 1   %}
                {% assign index  = page | plus: 1 %}
                <li class="item col-sm-4 col-md-3 page_p_{{ index }} page_look" style="display:none;">
                    <a href="{{this_product_item | file_url  }}">
                      <img src="{{this_product_item | file_url  }}" alt="" />
                    </a>
                </li> 

                {% if tg == number and i != count_image %}
                   {% assign page = page | plus: 1   %}
                   {% assign tg  = 0  %}                     
                {% endif %}
                
            {% endfor %}
         </ul>
        <div class="navigation">
          <ul id="paginate-ul">
            <li class="prev-left"><a href="#top"><i class="fa fa-long-arrow-left"></i></a></li>
             {% assign sum_page = page | plus: 1 %}
             {% for i_page in (1..sum_page) %}
             <li style="cursor:pointer;"{% if forloop.first  %} class="active" {% endif %}><a href="#top" id="p_{{i_page}}" >{{i_page}}</a></li>
             {% endfor %}
            <li class="next-right"><a href="#top"><i class="fa fa-long-arrow-right"></i></a></li>
          </ul>
        </div>
    </div>
<script type="text/javascript">
  (function($) {
    'use strict';
    jQuery(document).ready(function($) {
      $("[id^='p_']").on("click", function(event) {
        event.preventDefault();

        var id = $(this).attr('id');
        $(".page_look").hide();
        $(".page_"+id).show();

        $(document).ready(function() {
          var pageItem = $("#paginate-ul li").not(".prev-left,.next-right");
          var prev = $("#paginate-ul li.prev-left");
          var next = $("#paginate-ul li.next-right");

          pageItem.click(function() {
            pageItem.removeClass("active");
            $(this).not(".prev-left,.next-right").addClass("active");
          });

          next.click(function() {
            $('li.active').removeClass('active').next().addClass('active');
          });

          prev.click(function() {
            $('li.active').removeClass('active').prev().addClass('active');
          });
        });
       
        // var pageItem = $("#paginate-ul li").not(".prev-left, .next-right");
        // var prev_l = $("#paginate-ul li.prev-left");
        // var next_r = $("#paginate-ul li.next-right");

        // var n_id = id.length;

        // var n = $("#paginate-ul li").length;

        //   pageItem.click(function() {            
        //     pageItem.removeClass("active");
        //     var thisBtn = $(this);
        //     thisBtn.addClass("active");
            
        //      if(thisBtn.index() == (n-2))
        //         {
        //           prev_l.show();
        //           next_r.hide();
        //         }
        //         else if(thisBtn.index() == 1)
        //         {
        //           prev_l.hide();
        //           next_r.show();
        //         }
        //         else
        //         {
        //            prev_l.show();
        //            next_r.show();
        //         }
        //     });

        //   next_r.click(function() {

        //       // activeLi.next().addClass('active').children().addClass('current');
        //     var activeLi = $("#paginate-ul").find('li.active');
        //     activeLi.removeClass('active');
        //     if(activeLi.next()!=null && activeLi.next()!=undefined ){
        //         activeLi.next().addClass('active');  
        //         }else{
        //           $('#paginate-ul').find("li:last").addClass("active");
        //         }
        //     });
        //   prev_l.click(function() {
        //     var activeLi_pre = $("#paginate-ul").find('li.active');
        //     activeLi_pre.removeClass('active');
        //      if(activeLi_pre.prev()!=null && activeLi_pre.prev()!=undefined ){
        //         activeLi_pre.prev().addClass('active');  
        //         }else{
        //           $('#paginate-ul').find("li:first").addClass("active");
        //         }
        //   });

        });
      $("#p_1").trigger("click");
    });    
  })(jQuery);

</script>
